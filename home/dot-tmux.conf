# Setting the prefix from C-b to C-a
set -g prefix C-a

# Ensure that we can send Ctrl-A to other apps (by pressing it twice)
bind C-a send-prefix

# Setting the delay between prefix and command
set -s escape-time 1

# Set the base index for windows to 1 instead of 0
set -g base-index 1

# Splitting panes with | and -
bind | split-window -h
bind - split-window -v

# mouse support - frowned upon by tmux purists
set -g mouse on

# Set the default terminal mode to 256color mode
set -g default-terminal "screen-256color"

set -g @plugin "janoamaral/tokyo-night-tmux"

set-option -ga terminal-overrides ",xterm-256color:Tc"

# enable resizing windows by pressing prefix and then holding down alt arrow
# or ctrl arrow
bind-key -r -T prefix       M-Up              resize-pane -U 5
bind-key -r -T prefix       M-Down            resize-pane -D 5
bind-key -r -T prefix       M-Left            resize-pane -L 5
bind-key -r -T prefix       M-Right           resize-pane -R 5
bind-key -r -T prefix       C-Up              resize-pane -U
bind-key -r -T prefix       C-Down            resize-pane -D
bind-key -r -T prefix       C-Left            resize-pane -L
bind-key -r -T prefix       C-Right           resize-pane -R

# this is the panel zoom 
bind-key -n C-Space resize-pane -Z

# new navigation work
bind-key -T prefix s run-shell "swap-window"
bind-key -T prefix \' run-shell "swap-session"

set-option -g status-position top

# Smart pane switching with awareness of Vim splits (vim-tmux-navigator)
is_vim="ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?)(diff)?$'"
bind-key -n C-h if-shell "$is_vim" "send-keys C-h" "select-pane -L"
bind-key -n C-j if-shell "$is_vim" "send-keys C-j" "select-pane -D"
bind-key -n C-k if-shell "$is_vim" "send-keys C-k" "select-pane -U"
bind-key -n C-l if-shell "$is_vim" "send-keys C-l" "select-pane -R"
